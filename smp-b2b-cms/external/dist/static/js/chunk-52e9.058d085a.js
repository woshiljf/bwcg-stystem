(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-52e9"],{Yfch:function(e,r,t){"use strict";function o(e){return/^[a-zA-Z0-9]+$/.test(e)}function s(e){return/(^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z]).{8,15}$)|(^(?=.*[0-9])(?=.*[a-z])(?=.*[.@#$%^&+=!]).{8,15}$)|(^(?=.*[0-9])(?=.*[A-Z])(?=.*[.@#$%^&+=!]).{8,15}$)|(^(?=.*[a-z])(?=.*[A-Z])(?=.*[.@#$%^&+=!]).{8,15}$)/.test(e)}function n(e){return/(?!.*ADMIN|.*PASSWORD|.*ABC|.*TEST)^.*/.test(e)}function a(e){return/(0(?=1)|1(?=2)|2(?=3)|3(?=4)|4(?=5)|5(?=6)|6(?=7)|7(?=8)|8(?=9)){3}/.test(e)}function l(e){for(var r={},t=0;t<e.length;t++){var o=e[t];r[o]?r[o]++:r[o]=1}var s=0;for(var n in r)s<r[n]&&(s=r[n]);return s}t.d(r,"a",function(){return o}),t.d(r,"c",function(){return s}),t.d(r,"d",function(){return n}),t.d(r,"e",function(){return a}),t.d(r,"b",function(){return l})},lwjX:function(e,r,t){},w4sK:function(e,r,t){"use strict";t.r(r);var o=t("QbLZ"),s=t.n(o),n=t("Yfch"),a=t("L2JU"),l={name:"ChangePassword",data:function(){var e=this;return{ruleForm2:{username:this.$store.getters.name,pass:"",checkPass:"",originPass:""},rules2:{pass:[{validator:function(r,t,o){if(""===t)o(new Error("请输入密码"));else{if(-1!==t.indexOf(":"))return o(new Error("密码不能包含冒号"));if(!Object(n.c)(t))return o(new Error("密码长度或内容不符合要求"));if(!Object(n.d)(t.toLocaleUpperCase()))return o(new Error("密码不能包含：admin，password，test，abc（不区分大小写）"));if(-1!==t.toLocaleUpperCase().indexOf(e.$store.getters.name.toLocaleUpperCase()))return o(new Error("密码不可以包含姓名及账号名"));if(Object(n.b)(t)>=4)return o(new Error("密码不能包含4个重复的数字或字母"));if(Object(n.e)(t))return o(new Error("密码不可以包含4个连续的数字"));""!==e.ruleForm2.checkPass&&e.$refs.ruleForm2.validateField("checkPass"),o()}},trigger:"blur"}],checkPass:[{validator:function(r,t,o){""===t?o(new Error("请再次输入密码")):t!==e.ruleForm2.pass?o(new Error("两次输入密码不一致!")):o()},trigger:"blur"}],originPass:[{validator:function(e,r,t){if(!r)return t(new Error("原密码不能为空"));t()},trigger:"blur"}]}}},computed:s()({},Object(a.b)(["name"])),methods:{submitForm:function(e){var r=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;r.loading=!0,console.log(r.ruleForm2,"loginForm"),r.$store.dispatch("ChangePassword",r.ruleForm2).then(function(e){r.loading=!1,console.log(e,"response of change password"),r.$notify({title:"修改成功",message:"修改成功",type:"success",duration:2e3}),r.resetForm("ruleForm2"),r.$router.push({path:"/"}),console.log(e.status,"123123")}).catch(function(e){r.loading=!1,console.log(e,"errorChangePWD")})})},resetForm:function(e){this.$refs[e].resetFields()}}},i=(t("yc64"),t("KHd+")),u=Object(i.a)(l,function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"changePassword"},[t("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm2,rules:e.rules2,"status-icon":"","label-width":"100px"}},[t("el-form-item",{attrs:{label:"用户名",prop:"username"}},[t("el-input",{staticStyle:{width:"44%"},attrs:{readonly:!0},model:{value:e.ruleForm2.username,callback:function(r){e.$set(e.ruleForm2,"username",r)},expression:"ruleForm2.username"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"原密码",prop:"originPass"}},[t("el-input",{staticStyle:{width:"44%"},attrs:{maxlength:"16",type:"password",placeholder:"请输入原密码"},model:{value:e.ruleForm2.originPass,callback:function(r){e.$set(e.ruleForm2,"originPass",r)},expression:"ruleForm2.originPass"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"新密码",prop:"pass"}},[t("el-input",{staticStyle:{width:"44%"},attrs:{type:"password",autocomplete:"off",placeholder:"请输入新密码"},model:{value:e.ruleForm2.pass,callback:function(r){e.$set(e.ruleForm2,"pass",r)},expression:"ruleForm2.pass"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"确认新密码",prop:"checkPass"}},[t("el-input",{staticStyle:{width:"44%"},attrs:{type:"password",autocomplete:"off",placeholder:"请再次输入新密码"},model:{value:e.ruleForm2.checkPass,callback:function(r){e.$set(e.ruleForm2,"checkPass",r)},expression:"ruleForm2.checkPass"}})],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(r){e.submitForm("ruleForm2")}}},[e._v("提交")]),e._v(" "),t("el-button",{on:{click:function(r){e.resetForm("ruleForm2")}}},[e._v("重置")])],1)],1),e._v(" "),e._m(0)],1)},[function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("ol",[t("li",[e._v("密码应该由8-15个字符组成，区分大小写（不能包含冒号）；")]),e._v(" "),t("li",[e._v("密码必须包含大写字母、小写字母、数字、特殊字符的三种组合；")]),e._v(" "),t("li",[e._v("密码不能包含：admin，password，test，abc（不区分大小写）；")]),e._v(" "),t("li",[e._v("密码不可以包含姓名及账号名（不区分大小写）；")]),e._v(" "),t("li",[e._v("密码不能包含4个重复的数字或字母；")]),e._v(" "),t("li",[e._v("密码不可以包含4个连续的数字；")]),e._v(" "),t("li",[e._v("不可以使用之前5个旧密码。")])])}],!1,null,"cf8c1aae",null);u.options.__file="changePassword.vue";r.default=u.exports},yc64:function(e,r,t){"use strict";var o=t("lwjX");t.n(o).a}}]);